<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" name="" id="input">
    <input type="button" value="发布" id="btn">
    <script>
        const inputDOM = document.getElementById('input')
        const btnDOM = document.getElementById('btn')

        btnDOM.addEventListener('click', () => {
            console.log(inputDOM.value)
            const p = document.createElement('p')
            p.innerHTML = inputDOM.value
            document.body.appendChild(p)
        })

        // https://blog.csdn.net/binjly/article/details/47321043
        function utf16toEntities(str) {
            var patt=/[\ud800-\udbff][\udc00-\udfff]/g; // 检测utf16字符正则
            str = str.replace(patt, function(char){
                    var H, L, code;
                    if (char.length===2) {
                        H = char.charCodeAt(0); // 取出高位
                        L = char.charCodeAt(1); // 取出低位
                        code = (H - 0xD800) * 0x400 + 0x10000 + L - 0xDC00; // 转换算法
                        return "&#" + code + ";";
                    } else {
                        return char;
                    }
                });
            return str;
        }
    </script>
</body>
</html>